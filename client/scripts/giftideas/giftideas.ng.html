<div id="giftideas" class="ui container">
    <div ng-show="product" class="singleproduct main pad">
        <div class="head">
            <div class="hero">
                <div class="ui one cards">
                    <a class="red card">
                        <div class="image">
                            <img src="/assets/giftideas/category{{product.productImage}}" alt="{{product.imageAltText}}">
                        </div>
                    </a>
                </div>
            </div>
            <div class="titles">
                <button ng-click="goToLink(product.giftStartLink)" target="_self" class="teal ui huge button icon teal top attached" ng-show="product.hasPrice">
                    <i class="gift icon"></i>
                    Gift It
                </button>
                <div class="scrollbox ui segment card attached">
                    <div class="content">
                        <div class="header">
                            <span ng-bind-html="product.productName"></span>
                        </div>
                        <div class="meta">${{product.productPrice}}</div>
                        <div class="description">
                            <span ng-bind-html="product.productDescription"></span>
                        </div>
                    </div>
                </div>
                <button onclick="olark('api.box.expand')" class="teal ui button" ng-show="!product.hasPrice">Contact The Gift Concierge</button>
                <div ng-show="product.hasPrice" class="saveforlater">
                    <button ng-click="saveGiftIdeaForLater(product);" ng-class="{loading: isSavingForLater}" class="ui icon large button bottom attached" ng-show="product.hasPrice">
                        <i class="bookmark icon"></i>
                        Save for Later
                    </button>
                    <div class="product-message" ng-bind-html="productMessage"></div>
                </div>
            </div>
        </div>
        <div class="clear"></div>
    </div>

    <div ng-show="category" class="products">
        <div class="main pad" ng-show="!product">
            <div class="ui stackable four column grid">
                <div class="eight wide column">
                    <h2 class="ui center aligned header">
  					    <img class="ui circular image" src="/assets/giftideas/category/{{category.categorySlug}}.jpg" alt="{{category.categorySlug}}" style="    display: block; margin: 0 auto .5rem;width: 57%;">
				    </h2>
                </div>
                <div class="eight wide column">
                    <div class="ui piled segment padded left aligned secondary">
                        <h2 class="header">
                            {{category.categoryName}}
                        </h2>
                        <p ng-bind-html="category.categoryBlurb"></p>
                    </div>
                </div>
            </div>
            <div class="clear"></div>
            <h2 class="ui center aligned header">
			    {{category.categoryName}}
		    </h2>
        </div>
        <ul rn-carousel class="ui segment carousel" rn-carousel-index="carouselIndex">
            <li ng-repeat="group in groups" class="ui centered stackable grid">
                <div ng-repeat="product in group" class="four wide column">
                    <div class="ui fluid card">
                        <a class="image" href="{{categoryPath}}/{{product.productSlug}}">
                            <img src="/assets/giftideas/category{{product.productThumb}}" alt="{{product.imageAltText}}" class="load" />
                        </a>
                        <div class="content">
                            <a class="header" ng-bind-html="product.productNameShort" href="{{categoryPath}}/{{product.productSlug}}"></a>
                            <div class="meta">
                                <a href="{{categoryPath}}/{{product.productSlug}}">${{product.productPrice}}</a>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
        <div rn-carousel-indicators ng-if="groups.length > 1" slides="groups" rn-carousel-index="carouselIndex" style="font-size: 2em;"></div>
        <div rn-carousel-controls ng-if="groups.length > 1" slides="groups" rn-carousel-index="carouselIndex"></div>
        <div class="clear"></div>
    </div>

    <h1 class="ui header">Whatâ€™s popular</h1>
    
    <div class="ui five stackable cards">
        <div ng-repeat="idea in giftideas|orderBy:'title'" class="card">
            <a class="image" href="{{idea.url}}">
                <img data-src="{{idea.img}}" src="{{idea.img}}" alt="{{idea.alt}}" class="load" />
            </a>
            <div class="content">
                <a class="header" href="{{idea.url}}">{{idea.title || '...'}}</a>
                <div class="description">
                    {{idea.description || '...' }}
                </div>
            </div>
            <div class="extra content">
                <a class="center" href="{{idea.url}}">
                    <i class="unhide icon"></i> {{idea.button}}
                </a>
            </div>
        </div>
    </div> 
</div>