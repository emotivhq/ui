<div class="ui inverted masthead aligned vertical segment user slim">
    <form class="userprofile__info" name="userprofileInfo">
        <div class="ui text container">
            <div class="ui stackable grid">
                <div class="five wide column">
                    <!-- 
                         Tyler Goelz @yaboi - 7 Nov 2015
                         BEFORE THIS IS PUSHED...
                         Uncomment line directly underneath this comment becuase it
                         is the correct code to work in production.
                         Remove second line, it's only a placeholder to make the
                         the cross-domain image issue work.
                    -->
                    <!-- <img class="ui medium circular bordered image userprofile__userimage" src="/assets/noUserImage.png" ng-src="{{user.img_url || '/assets/noUserImage.png'}}" ng-hide="editMode && !blocked"> -->
                    <img class="ui circular fluid bordered image" src="https://storage.googleapis.com/giftstarter-pictures/u/fe4a68d6-4d27-4f7e-80c1-99801116ee2c.png" ng-hide="editMode && !blocked">
                    <button class="ui button" ng-show="!blocked" ng-click="openImageDialogGlobal();">
                        <i class="camera icon"></i>
                        Upload Photo
                    </button>
                </div>
                <div class="eleven wide column">
                    <h1 class="ui inverted header">
                        <span ng-show="blocked">{{ user.name }}</span>
                        <div class="ui inverted transparent in place fluid input" ng-hide="blocked">
                            <input type="text" ng-model="user.name" ng-disabled="blocked" name="username" ng-value="user.name" placeholder="{{ user.name }}" autocomplete="off" />
                        </div>                        
                    </h1>
                    <div class="ui grid" ng-show="user.link_facebook||user.link_twitter||user.link_linkedin||user.link_googleplus||user.link_website||editable">
                        <div class="column" ng-class="blocked ? 'two wide' : 'row'" ng-show="user.link_facebook||editable">
                            <a class="ui circular icon button" ng-disabled="!user.link_facebook" ng-class="{facebook: user.link_facebook}" ng-href="{{user.link_facebook}}" target="_blank">
                                <i class="facebook icon"></i>
                            </a>
                            <div class="ui inverted transparent social input" ng-show="!blocked">
                                <input type="text" ng-model="user.link_facebook" ng-disabled="blocked" name="linkfacebook" placeholder="http://www.facebook.com/example" autocomplete="off" ng-blur="validateLinks()" />
                            </div>
                        </div>
                        <div class="column" ng-class="blocked ? 'two wide' : 'row'" ng-show="user.link_twitter||editable">
                            <a class="ui circular icon button" ng-disabled="!user.link_twitter" ng-class="{twitter: user.link_twitter}" ng-href="{{user.link_twitter}}" target="_blank">
                                <i class="twitter icon"></i>
                            </a>
                            <div class="ui inverted transparent social input" ng-show="!blocked">
                                <input type="text" ng-model="user.link_twitter" ng-disabled="blocked" name="linktwitter" placeholder="http://www.twitter.com/example" autocomplete="off" ng-blur="validateLinks()" />
                            </div>
                        </div>
                        <div class="column" ng-class="blocked ? 'two wide' : 'row'" ng-show="user.link_linkedin||editable">
                            <a class="ui circular icon button" ng-disabled="!user.link_linkedin" ng-class="{linkedin: user.link_linkedin}" ng-href="{{user.link_linkedin}}" target="_blank">
                                <i class="linkedin icon"></i>
                            </a>
                            <div class="ui inverted transparent social input" ng-hide="blocked">
                                <input type="text" ng-model="user.link_linkedin" ng-disabled="blocked" name="linklinkedin" placeholder="https://www.linkedin.com/in/example" autocomplete="off" ng-blur="validateLinks()" />
                            </div>
                        </div>
                        <div class="column" ng-class="blocked ? 'two wide' : 'row'" ng-show="user.link_googleplus||editable">
                            <a class="ui circular icon button" ng-disabled="!user.link_googleplus" ng-class="{'google plus': user.link_googleplus}" ng-href="{{user.link_googleplus}}" target="_blank">
                                <i class="google plus icon"></i>
                            </a>
                            <div class="ui inverted transparent social input" ng-hide="blocked">
                                <input type="text" ng-model="user.link_googleplus" ng-disabled="blocked" name="linkgoogleplus" placeholder="http://plus.google.com/+example" autocomplete="off" ng-blur="validateLinks()" />
                            </div>
                        </div>
                        <div class="column" ng-class="blocked ? 'two wide' : 'row'" ng-show="user.link_website||editable">
                            <a class="ui circular icon button" ng-disabled="!user.link_website" ng-class="{green: user.link_website}" ng-href="{{user.link_website}}" target="_blank">
                                <i class="world icon"></i>
                            </a>
                            <div class="ui inverted transparent social input" ng-hide="blocked">
                                <input type="text" ng-model="user.link_website" ng-disabled="blocked" name="linkwebsite" placeholder="http://www.example.com" autocomplete="off" ng-blur="validateLinks()" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <gs-user-edit ng-show="editable" fieldisable="fieldisable" inverted="true" section-title="Profile" blocked="blocked" user="user" userinfo="true" loading="loading"></gs-user-edit>
    </form>
</div>

<form class="userprofile__info ng-hide" name="userprofileInfo">
    <div class="userprofile__image" ng-class="{true: 'userprofile__image--edit'}[editMode]">
        <button class="userprofile__imagecancel tooltip--right" data-tooltip="Close" ng-show="editMode && !blocked" ng-click="editMode = false;">x</button>
<!--         <img class="userprofile__userimage" ng-src="{{user.img_url || '/assets/noUserImage.png'}}" ng-hide="editMode && !blocked" /> -->
        <gs-image-upload ng-show="editMode && !blocked" ng-class="{disabled: !imageSet}" on-image-updated="imageUpdated"></gs-image-upload>
        <img class="userprofile__preload" src="/assets/loading_transparent.gif" alt="image loading" title="image loading" ng-show="imgloading">
        <button class="userprofile__imageedit" ng-hide="editMode || blocked" ng-click="editMode=true;">Change photo</button>
        <button class="userprofile__imagesave" ng-click="submit(); editMode = false;" ng-show="editMode && !blocked" ng-class="{disabled: !imageSet}">Save</button>
        <button class="userprofile__imageupload" ng-show="editMode && !blocked" ng-click="openImageDialogGlobal();">Upload</button>
    </div>
    <div class="userprofile__name">
        <h2 ng-show="blocked" class="userprofile__title">
                    {{ user.name }}
                </h2>
        <input class="userprofile__title" type="text" ng-model="user.name" ng-disabled="blocked" ng-hide="blocked" name="username" ng-value="user.name" placeholder="{{ user.name }}" />
    </div>
    <div class="userprofile__social">
        <div class="social" ng-show="user.link_facebook||user.link_twitter||user.link_linkedin||user.link_googleplus||user.link_website||editable">
            <p class="social__desc">Social profiles</p>
            <div class="social__nolinks" ng-hide="user.link_facebook||user.link_twitter||user.link_linkedin||user.link_googleplus||user.link_website||!blocked">
                (none added)
            </div>
            <div class="social__inline">
                <div class="social__editblock" ng-show="user.link_facebook||!blocked">
                    <a ng-href="{{user.link_facebook}}" class="social__link" target="_blank">
                        <img class="social__icons" src="/assets/facebookicon.png">
                    </a>
                    <input type="text" name="linkfacebook" class="social__inputs" placeholder="{{user.link_facebook}} Paste link to profile" onfocus="this.placeholder = ''" ng-disabled="blocked" ng-hide="blocked" ng-model="user.link_facebook" ng-blur="validateLinks()" />
                </div>
                <div class="social__editblock" ng-show="user.link_twitter||!blocked">
                    <a ng-href="{{user.link_twitter}}" class="social__link" target="_blank">
                        <img class="social__icons" src="/assets/twittericon.png">
                    </a>
                    <input type="text" name="linktwitter" class="social__inputs" placeholder="{{user.link_twitter}} Paste link to profile" onfocus="this.placeholder = ''" ng-disabled="blocked" ng-hide="blocked" ng-model="user.link_twitter" ng-blur="validateLinks()" />
                </div>
                <div class="social__editblock" ng-show="user.link_linkedin||!blocked">
                    <a ng-href="{{user.link_linkedin}}" class="social__link">
                        <img class="social__icons" src="/assets/linkedInicon.png">
                    </a>
                    <input type="text" name="linklinkedin" class="social__inputs" placeholder="{{user.link_linkedin}} Paste link to profile" onfocus="this.placeholder = ''" ng-disabled="blocked" ng-hide="blocked" ng-model="user.link_linkedin" ng-blur="validateLinks()" />
                </div>
                <div class="social__editblock" ng-show="user.link_googleplus||!blocked">
                    <a ng-href="{{user.link_googleplus}}" class="social__link" target="_blank">
                        <img class="social__icons" src="/assets/googleicon.png">
                    </a>
                    <input type="text" name="linkgoogleplus" class="social__inputs" placeholder="{{user.link_googleplus}} Paste link to profile" onfocus="this.placeholder = ''" ng-hide="blocked" ng-hide="blocked" ng-model="user.link_googleplus" ng-blur="validateLinks()" />
                </div>
                <div class="social__editblock" ng-show="user.link_website||!blocked">
                    <a href="{{user.link_website}}" class="social__link" target="_blank">
                        <img class="social__icons" src="/assets/wwwicon.png">
                    </a>
                    <input type="text" name="linkwebsite" class="social__inputs" placeholder="{{user.link_website}} Paste link to web page" onfocus="this.placeholder = ''" ng-disabled="blocked" ng-hide="blocked" ng-model="user.link_website" ng-blur="validateLinks()" />
                </div>
            </div>
        </div>
    </div>
    <div class="calendar ng-hide" ng-show="(user.birth_month&&user.birth_day)||editable">
        <p class="calendar__calendartext">Birth Date</p>
        <div class="calendar__monthwrap">
            <select ng-disabled="blocked" class="calendar__month" ng-model="user.birth_month" ng-options="month.value as month.label for month in months">
                <option value="">Month</option>
            </select>
        </div>
        <input type="number" name="date" min="1" max="31" class="calendar__date" ng-disabled="blocked" ng-model="user.birth_day" />
    </div>
    <div class="userprofile__errors">{{user.error_message}}</div>
    <gs-user-edit ng-show="editable" fieldisable="fieldisable" inverted="false" section-title="Contact" blocked="blocked" user="user" userinfo="true" loading="loading"></gs-user-edit>
</form>